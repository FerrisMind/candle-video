# Cargo build configuration for candle-video
# This file configures build environment for CUDA/Flash Attention on Windows

[env]
# CUDA Toolkit path
CUDA_PATH = "C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6"
CUDA_HOME = "C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6"

# Force bindgen_cuda to use specific cl.exe path
# This is critical for flash-attn compilation on Windows
NVCC_CCBIN = "C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Tools\\MSVC\\14.44.35207\\bin\\Hostx64\\x64"

[build]
# Use multiple jobs for faster compilation  
jobs = 16

# Enable native CPU optimizations
rustflags = ["-C", "target-cpu=native"]
